<a [routerLink]="[ '/sales/salesorder-list']" class="float">
    <i class="fa fa-arrow-left my-float"></i>
</a>
<a [routerLink]="[ '/dashboard/dashboard1']" class="float-home">
    <i class="fa fa-home my-float-home"></i>
</a>
<a href="https://rhbussolutions.com/documentation/sales-order/" target="_blank" class="float-help">
    <button type="button" class="btn btn-secondary float-right disabled">
        <i class="fa fa-info"></i>
        Help</button>
</a>

<dx-popup class="popup" [width]="'auto'" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="Customer Selection"
    [closeOnOutsideClick]="true" [(visible)]="globalCustomerLookupPopup">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div id="form-container">
                    <dx-data-grid id="gridContainer" [columnAutoWidth]="true" [showBorders]="true" [dataSource]="customerSuggestions"
                        (onRowClick)="onCustomerRowClicked($event)">
                        <dxo-search-panel [visible]="true"></dxo-search-panel>
                        <dxo-selection mode="single"></dxo-selection>
                        <dxi-column dataField="CustCode" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="Name" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="Address1" [allowEditing]="false"> </dxi-column>
                        <dxi-column dataField="City" [allowEditing]="false"></dxi-column>
                        <dxo-paging [pageSize]="7"></dxo-paging>
                    </dx-data-grid>
                </div>
            </div>
        </div>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="'auto'" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="Vendor Selection"
    [closeOnOutsideClick]="true" [(visible)]="convertToPO">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div id="form-container">
                    <dx-data-grid id="gridContainer" [columnAutoWidth]="true" [showBorders]="true" [dataSource]="vendorSuggestions"
                        (onRowClick)="onVendorRowClicked($event)">
                        <dxo-search-panel [visible]="true"></dxo-search-panel>
                        <dxo-selection mode="single"></dxo-selection>
                        <dxi-column dataField="VendCode" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="Name" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="Address1" [allowEditing]="false"> </dxi-column>
                        <dxi-column dataField="City" [allowEditing]="false"></dxi-column>
                        <dxo-paging [pageSize]="7"></dxo-paging>
                    </dx-data-grid>
                </div>
            </div>
        </div>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="800" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="Selling Details"
    [closeOnOutsideClick]="true" [(visible)]="popupSelltoCustDetails">
    <div id="form-container">
        <dx-form [formData]="Customer" accept-charset="UTF-8" (onFieldDataChanged)="onCustomerDetailsFieldsChanges($event)"
            [readOnly]="SOFlowResult">
            <dxi-item cssClass="font-for-formlable" dataField="SelltoCustomerNo" [label]="{text: 'Customer Code'}">
            </dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="SelltoCustomerName" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="SelltoAddress" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="SelltoAddress2" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="SelltoCity" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="SelltoPostCode" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="SelltoCountry" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
        </dx-form>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="800" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="Billing Details"
    [closeOnOutsideClick]="true" [(visible)]="popupBilltoCustDetails">
    <div id="form-container">
        <dx-form itemType="group" [formData]="Customer" accept-charset="UTF-8" (onFieldDataChanged)="onCustomerDetailsFieldsChanges($event)"
            [readOnly]="SOFlowResult">
            <dxi-item cssClass="font-for-formlable" dataField="BilltoCustomerNo" [label]="{text: 'Customer Code'}">
            </dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="BilltoName" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="BilltoAddress" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="BilltoAddress2" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="BilltoCity" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="BilltoPostCode" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
            <dxi-item cssClass="font-for-formlable" dataField="BilltoCountry" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
        </dx-form>
    </div>
</dx-popup>

<dx-popup class="popup" [showTitle]="true" title="Item LookUp" [dragEnabled]="true" [closeOnOutsideClick]="true"
    [(visible)]="globalItemLookupPopup">
    <div *dxTemplate="let data of 'content'">
        <div class="col-12">
            <div class="row">
                <dx-data-grid [columnAutoWidth]="true" [showBorders]="true" [dataSource]="itemArray"
                    [hoverStateEnabled]="true" [allowColumnResizing]="true" (onRowClick)="onUserRowSelect($event,'ITEM')">
                    <dxo-search-panel [visible]="true"></dxo-search-panel>
                    <dxo-selection mode="single"></dxo-selection>
                    <dxi-column dataField="ItemCode"></dxi-column>
                    <dxi-column dataField="Description"></dxi-column>
                    <dxi-column dataField="SalesUOM"></dxi-column>
                    <dxi-column dataField="UnitPrice" dataType="number">
                        <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                    </dxi-column>
                    <dxi-column dataField="Lookup" caption="Item Details" cellTemplate="cellTemplateforItemButton"
                        [allowEditing]="false" [allowSearch]="false"></dxi-column>
                    <dxo-paging [pageSize]="10"></dxo-paging>
                    <dxo-header-filter [visible]="true" [allowSearch]="true"></dxo-header-filter>
                    <div *dxTemplate="let data of 'cellTemplateforItemButton'">
                        <div class="icon">
                            <a><i class="fa fa-info-circle" (click)="ItemDeatilsForPopUp(data)"></i></a>
                        </div>
                    </div>
                    <dxo-paging [pageSize]="10"></dxo-paging>
                    <dxo-header-filter [visible]="true" [allowSearch]="true"></dxo-header-filter>
                </dx-data-grid>
            </div>
        </div>
    </div>
</dx-popup>

<dx-popup class="popup" width="600" [showTitle]="true" [(title)]="itemPopupName" [dragEnabled]="true"
    [closeOnOutsideClick]="true" [(visible)]="itemLookupDetailsPopup">
    <div *dxTemplate="let data of 'content'">
        <div class="col-12">
            <div class="row">
                <dx-form itemType="group" [colCount]="2" [formData]="itemDetails" accept-charset="UTF-8" [readOnly]="true">
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="ItemCode" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Description" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Description2" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="BaseUOM" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="UnitPrice" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="UnitCost" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="SalesUOM" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="HSNCode" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="LotNoRequired" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="LegacyCode" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Brand" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Category" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="SubCategory" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Color" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="VatProdPostGroup" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="GenPolicyGroup" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Active" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="ShelfDays" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                    </dxi-item>
                </dx-form>
            </div>
        </div>
    </div>
</dx-popup>

<dx-popup class="popup" width="600" [showTitle]="true" [(title)]="itemPopupName" [dragEnabled]="true"
    [closeOnOutsideClick]="true" [(visible)]="itemDetailsPopup">
    <div *dxTemplate="let data of 'content'">
        <div class="col-12">
            <div class="row">
                <dx-form itemType="group" [colCount]="2" [formData]="itemDetails" accept-charset="UTF-8" [readOnly]="true">
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="ItemCode" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Description" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="UOM" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="UnitPrice" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Amount" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="LineAmount" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="VATBusPostingGroup" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="PriceSource" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="lineType" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="AmountIncludingVAT" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="VATProdPostingGroup" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        <dxi-item cssClass="font-for-formlable" dataField="Location" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                    </dxi-item>
                </dx-form>
            </div>
        </div>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="500" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="Currency Codes"
    [closeOnOutsideClick]="true" [(visible)]="globalCurrencyLookupPopup">
    <dx-data-grid id="gridContainer" [columnAutoWidth]="true" [showBorders]="true" [dataSource]="currencySuggestions"
        (onRowClick)="onCurrencyCodeSelected($event)">
        <dxo-search-panel [visible]="true"></dxo-search-panel>
        <dxo-selection mode="single"></dxo-selection>
        <dxi-column dataField="CurrencyCode" [allowEditing]="false"></dxi-column>
        <dxi-column dataField="ExchangeRate" [allowEditing]="false"></dxi-column>
        <dxi-column dataField="EffectiveDate" [allowEditing]="false"> </dxi-column>
        <dxo-paging [pageSize]="7"></dxo-paging>
    </dx-data-grid>
</dx-popup>

<dx-popup class="popup" [width]="800" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="SERVICE ITEM"
    [closeOnOutsideClick]="true" [(visible)]="globalServiceItemLookupPopup">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div id="form-container">
                    <dx-data-grid [columnAutoWidth]="true" [showBorders]="true" [dataSource]="serviceitemArray"
                        [hoverStateEnabled]="true" [allowColumnResizing]="true" (onRowClick)="onUserRowSelect($event,'SERVICEITEM')">
                        <dxo-search-panel [visible]="true"></dxo-search-panel>
                        <dxo-selection mode="single"></dxo-selection>
                        <dxi-column dataField="Code" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="Description" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="UnitPrice" dataType='number' [allowEditing]="false">
                            <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                        </dxi-column>
                        <dxo-paging [pageSize]="7"></dxo-paging>
                    </dx-data-grid>
                </div>
            </div>
        </div>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="800" [height]="'auto'" [dragEnabled]="true" [showTitle]="true" title="DEPOSIT ITEM"
    [closeOnOutsideClick]="true" [(visible)]="globalDepositItemLookupPopup">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div id="form-container">
                    <dx-data-grid id="gridContainer" [columnAutoWidth]="true" [showBorders]="true" [dataSource]="deposititemArray"
                        [hoverStateEnabled]="true" [allowColumnResizing]="true" (onRowClick)="onUserRowSelect($event,'DEPOSIT')">
                        <dxo-search-panel [visible]="true"></dxo-search-panel>
                        <dxo-selection mode="single"></dxo-selection>
                        <dxi-column dataField="DocumentNo" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="AmountIncludingVAT" [allowEditing]="false"></dxi-column>
                        <dxi-column dataField="DocumentDate" [allowEditing]="false"> </dxi-column>
                        <dxo-paging [pageSize]="7"></dxo-paging>
                    </dx-data-grid>
                </div>
            </div>
        </div>
    </div>
</dx-popup>

<div class="row">
    <div class="col-12">
        <div class="card bg-darkerbg">
            <div class="card-body">
                <dx-form id="SalesOrderOperation" itemType="group" [colCount]="4" accept-charset="UTF-8">
                    <dxi-item itemType="group">
                        <dxi-item [template]="'MainTemp'"></dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item [template]="'MainTemp4'"></dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item [template]="'MainTemp3'"></dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group" [colSpan]="2">
                        <dxi-item [template]="'MainTemp2'">
                        </dxi-item>
                    </dxi-item>
                    <div *dxTemplate="let data of 'MainTemp'">
                        <span *ngIf="Customer" style="color: #fff; font-size:20px;"><b>{{Customer.DocumentNo }}</b></span>
                    </div>
                    <div *dxTemplate="let data of 'MainTemp4'" style="color: #fff; font-size:20px;">Status:
                        <span #docStatus id="docStatus" class="label" *ngIf="Customer"><b>
                                {{Customer.FlowResult }}</b></span>
                    </div>
                    <div *dxTemplate="let data of 'MainTemp3'" style="color: #fff; font-size:22px;">
                        <span *ngIf="Customer"><b>{{ Customer.CurrencyCode }}
                                {{ Customer.DocumentAmount | number: '1.2-2' }}</b></span>
                    </div>
                    <div class="clearfix" *dxTemplate="let data of 'MainTemp2'">
                        <dx-select-box #selectBoxSO [dataSource]="SalesOrderOperations" [value]=""></dx-select-box>
                        <dx-button type="default" text="GO" (onClick)="SalesOrderOperationsGo(selectBoxSO.text)">
                        </dx-button>
                    </div>
                </dx-form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-6 col-md-6 col-xs-12 col-sm-12">
        <div class="card">
            <div class="card-body font-for-formlable">
                <h3 class="card-title">Sell To</h3>
                <dx-form (onFieldDataChanged)="formSummary_fieldDataChanged($event)" itemType="group" [formData]="Customer"
                    accept-charset="UTF-8" [readOnly]="SOFlowResult">
                    <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate3'" [label]="{text: 'Code'}">
                    </dxi-item>
                    <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate4'" [label]="{text: 'Name'}"
                        [editorOptions]="{ width: '100%',elementAttr:{ 'class': 'font-for-formlable' } }">
                    </dxi-item>
                    <div class="clearfix2" *dxTemplate="let data of 'nameTemplate3'">
                        <dx-text-box [value]="Customer ? Customer.SelltoCustomerNo:''" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                        <dx-button type="default" icon="find" (onClick)="onCustomerSearchClicked('SellTo')" [disabled]="isLinesExist">
                        </dx-button>
                    </div>
                    <div class="clearfix2" *dxTemplate="let data of 'nameTemplate4'">
                        <dx-text-box [value]="Customer ? Customer.SelltoCustomerName:''" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                        <dx-button type="default" icon="info" (onClick)="getSellToCustomerDetail($event)" [disabled]="isFlowCompleted">
                        </dx-button>
                    </div>
                </dx-form>
                <br>
                <h3 class="card-title">Bill To</h3>
                <dx-form (onFieldDataChanged)="formSummary_fieldDataChanged($event)" itemType="group" [formData]="Customer"
                    accept-charset="UTF-8" [readOnly]="SOFlowResult">
                    <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate3'" [label]="{text: 'Code'}">
                    </dxi-item>
                    <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate4'" [label]="{text: 'Name'}"
                        [editorOptions]="{ width: '100%',elementAttr:{ 'class': 'font-for-formlable' } }">
                    </dxi-item>
                    <div class="clearfix2" *dxTemplate="let data of 'nameTemplate3'">
                        <dx-text-box [value]="Customer ? Customer.BilltoCustomerNo:''" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                        <dx-button type="default" icon="find" (onClick)="onCustomerSearchClicked('BillTo')" [disabled]="isLinesExist">
                        </dx-button>
                    </div>
                    <div class="clearfix2" *dxTemplate="let data of 'nameTemplate4'">
                        <dx-text-box [value]="Customer ? Customer.BilltoName:''" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                        <dx-button type="default" icon="info" (onClick)="getBillToCustomerDetail($event)" [disabled]="isFlowCompleted">
                        </dx-button>
                    </div>
                </dx-form>
            </div>
        </div>
    </div>
    <div class="col-lg-6 col-md-6 col-xs-12 col-sm-12">
        <div class="card">
            <div class="card-body font-for-formlable">
                <dx-form (onFieldDataChanged)="formSummary_fieldDataChanged($event)" itemType="group" [colCount]="1"
                    [formData]="Customer" accept-charset="UTF-8" [readOnly]="SOFlowResult">
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="OrderDate" editorType="dxDateBox" [label]="{text: 'Date'}"
                            [editorOptions]="{ width: '100%', displayFormat: 'dd-MM-yyyy',elementAttr:{ 'class': 'font-for-formlable' }, readOnly:isLinesExist }">
                        </dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="DueDate" editorType="dxDateBox"
                            [editorOptions]="{width: '100%', displayFormat: 'dd-MM-yyyy',elementAttr:{ 'class': 'font-for-formlable' } }">
                        </dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" dataField="ShipmentDate" editorType="dxDateBox"
                            [editorOptions]="{width: '100%', displayFormat: 'dd-MM-yyyy',elementAttr:{ 'class': 'font-for-formlable' } }">
                        </dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group">
                        <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate5'" [label]="{text: 'Location Code'}"
                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group" [colCount]="2">
                        <dxi-item itemType="group">
                            <dxi-item cssClass="font-for-formlable" dataField="ExternalDocumentNo" [label]="{text: 'Ext.Document'}"
                                [editorOptions]="{elementAttr:{ 'class': 'font-for-formlable' } }">
                            </dxi-item>
                        </dxi-item>
                        <dxi-item itemType="group">
                            <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate6'" [label]="{text: 'Sales Person'}"
                                [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }"></dxi-item>
                        </dxi-item>
                    </dxi-item>
                    <dxi-item itemType="group" [colCount]="2">
                        <dxi-item itemType="group">
                            <dxi-item cssClass="font-for-formlable" dataField="AmtIncvat" editorType="dxCheckBox"
                                [label]="{text: 'Amount Inc TAX'}" [editorOptions]="{elementAttr:{ 'class': 'font-for-formlable' }, readOnly:isLinesExist }">
                            </dxi-item>
                        </dxi-item>
                        <dxi-item itemType="group">
                            <dxi-item cssClass="font-for-formlable" [template]="'currencyCode'" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' }, readOnly:true }">
                            </dxi-item>
                        </dxi-item>
                    </dxi-item>
                    <div class="clearfix2" *dxTemplate="let data of 'currencyCode'">
                        <dx-text-box [value]="Customer ? Customer.CurrencyCode:''" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                        <dx-button type="default" icon="find" (onClick)="CurrencyCodeLookupClicked()" [disabled]="isLinesExist">
                        </dx-button>
                        <dx-button type="default" icon="clear" (onClick)="onClearHandleCurrencyCode()" [disabled]="isLinesExist">
                        </dx-button>
                    </div>
                    <div *dxTemplate="let data of 'nameTemplate5'">
                        <dx-select-box #selectBox4 [dataSource]="ShipFromSuggestions" [searchEnabled]="true"
                            [displayExpr]="suggestionFormateForShippedby" valueExpr="LocationCode" [minSearchLength]="0"
                            fieldTemplate="field5" [readOnly]="SOFlowResult" [value]="Customer ? Customer.LocationCode:''"
                            [disabled]="ShipFromSuggestions!=null ? false:true" (onValueChanged)="onDropDownCodeChanged($event,'LocationCode')"
                            hoverStateEnabled="true" [itemTemplate]="hover4">
                            <div *dxTemplate="let itemData5 of 'field5'">
                                <dx-text-box [text]="itemData5 ? itemData5.LocationCode:Customer ? Customer.LocationCode:''"
                                    [readOnly]="SOFlowResult" [elementAttr]="{ 'class': 'font-for-formlable' }">
                                </dx-text-box>
                            </div>
                        </dx-select-box>
                    </div>
                    <div *dxTemplate="let data of 'nameTemplate6'">
                        <dx-select-box #selectBox4 [dataSource]="SalesPersonSuggestions" [searchEnabled]="true"
                            [showClearButton]="!SOFlowResult" [displayExpr]="suggestionFormateForSalesPerson" valueExpr="Code"
                            [minSearchLength]="0" fieldTemplate="field6" [readOnly]="SOFlowResult" [value]="Customer ? Customer.SalespersonCode:''"
                            [disabled]="ShipFromSuggestions!=null ? false:true" (onValueChanged)="onDropDownCodeChanged($event,'SalespersonCode')"
                            hoverStateEnabled="true" [itemTemplate]="hoversuggestionFormateForSalesPerson">
                            <div *dxTemplate="let itemData6 of 'field6'">
                                <dx-text-box [text]="itemData6 ? itemData6.Code:Customer ? Customer.SalespersonCode:''"
                                    [readOnly]="SOFlowResult" [elementAttr]="{ 'class': 'font-for-formlable' }">
                                </dx-text-box>
                            </div>
                        </dx-select-box>
                    </div>
                </dx-form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body font-for-formlable">
                <ngb-tabset type="pills" (tabChange)="onTabChange($event)">
                    <ngb-tab title="Product and Services">
                        <ng-template ngbTabContent>
                            <dx-data-grid #gridContainer id="gridContainer" [columnAutoWidth]="true" [dataSource]="dataSource"
                                [showBorders]="true" [allowColumnResizing]="true" [allowColumnReordering]="true"
                                [wordWrapEnabled]="true" (onInitNewRow)="onInitNewRow($event)" (onRowInserted)="onRowInserted($event)"
                                (onRowUpdated)="onRowInserted($event)" (onEditingStart)="onInitNewRow($event)"
                                (onCellPrepared)="onCellPrepared($event)" (onEditorPreparing)="onEditorPreparing($event)">
                                <dxo-search-panel [visible]="true"></dxo-search-panel>
                                <dxo-editing mode="row" [allowAdding]="isAllowAdd()" [allowUpdating]="!SOFlowResult"
                                    [allowDeleting]="!SOFlowResult" [form]="{items: ['Description','ItemCode','UOM','UnitPrice','UnitPriceFCY','Quantity','LineDiscountAmount','AmountIncludingVAT'], colCount:4}">
                                </dxo-editing>
                                <dxi-column dataField="lineType" [allowSearch]="true" dataType="string" [editorOptions]="{showClearButton: false}"
                                    [setCellValue]="setEntryType">
                                    <dxo-lookup [dataSource]="LineTypeSuggestion" [valueExpr]="suggestionFormateForType"
                                        [displayExpr]="suggestionFormateForType" hoverStateEnabled="true">
                                    </dxo-lookup>
                                </dxi-column>
                                <dxi-column dataField="Location" caption="Location Code" [allowSearch]="true"
                                    [editorOptions]="{showClearButton: true, itemTemplate: hoverFormateForLocationLookup, searchExpr: ['location', 'Name'] }"
                                    dataType="string">
                                    <dxo-lookup [dataSource]="receiveLocSuggestionsLookup" [valueExpr]="suggestionFormateForLocationLookup"
                                        [displayExpr]="suggestionFormateForLocationLookup" hoverStateEnabled="true">
                                    </dxo-lookup>
                                </dxi-column>
                                <dxi-column dataField="ItemCode" [allowSearch]="true" dataType="string" [setCellValue]="setBaseUOMValueItemCode"
                                    [editorOptions]="{showClearButton: false, itemTemplate: formateForItemListHover, searchExpr: ['ItemCode', 'Description','UOM'] }">
                                    <dxo-lookup [dataSource]="getTheItemLookup" [valueExpr]="ItemCode" [displayExpr]="ItemCode"
                                        hoverStateEnabled="true">
                                    </dxo-lookup>
                                </dxi-column>
                                <!-- <dxi-column dataField="ItemCode" [allowSearch]="true"
                                    [setCellValue]="setBaseUOMValueItemCode" [allowEditing]="false" dataType="string">
                                    <dxo-lookup [dataSource]="itemArray" [valueExpr]="formateForItemListSuggestion2"
                                        [displayExpr]="itemLookup2" hoverStateEnabled="true">
                                    </dxo-lookup>
                                </dxi-column> -->
                                <dxi-column dataField="Lookup" caption="" cellTemplate="cellTemplate" [allowEditing]="false"
                                    [allowSearch]="false" [visible]="false"></dxi-column>
                                <dxi-column dataField="Details" caption="" cellTemplate="cellTemplate2" [allowEditing]="false"
                                    [allowSearch]="false"></dxi-column>
                                <div *dxTemplate="let data of 'cellTemplate'">
                                    <div class="icon">
                                        <i class="fa fa-search" (click)="ItemLookupvalueChanged(data)"></i>
                                    </div>
                                </div>
                                <div *dxTemplate="let data of 'cellTemplate2'">
                                    <div class="icon">
                                        <a><i class="fa fa-info-circle" (click)="ItemDeatilsForPopUp(data)"></i></a>
                                    </div>
                                </div>

                                <dxi-column dataField="Description" [allowSearch]="true" dataType="string">
                                </dxi-column>
                                <dxi-column dataField="UOM" [allowSearch]="true" dataType="string"></dxi-column>
                                <dxi-column dataField="UnitPrice" [allowSearch]="false" 
                                    dataType='number' [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column> <!-- [setCellValue]="setPriceValue"-->
                                <dxi-column dataField="Quantity"  dataType="number"
                                    [allowSearch]="false" [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column> <!--[setCellValue]="setQuantityValue" -->
                                <dxi-column dataField="LineDiscountAmount" dataType="string"
                                    [allowSearch]="false"> <!--[setCellValue]="setDiscountValue"-->
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxi-column dataField="VATPerct" dataType="number" [allowSearch]="false" [visible]="!isIndian"
                                    [allowEditing]="false" [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxi-column dataField="VatAmount" dataType="number" [allowSearch]="false" [visible]="!isIndian"
                                    [allowEditing]="false" [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxi-column dataField="SGSTAmount" dataType="number" [allowSearch]="false" [visible]="isIndian"
                                    [allowEditing]="false" [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxi-column dataField="CGSTAmount" dataType="number" [allowSearch]="false" [visible]="isIndian"
                                    [allowEditing]="false" [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxi-column dataField="IGSTAmount" dataType="number" [allowSearch]="false" [visible]="isIndian"
                                    [allowEditing]="false" [editorOptions]="{ mode:number, min: 0, format: ' #,##0.##' }">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxi-column dataField="AmountIncludingVAT" [allowSearch]="false" dataType="number"
                                    [allowEditing]="false" [visible]="false">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>e
                                <dxi-column dataField="LineAmount" [allowSearch]="false" dataType="number"
                                    [allowEditing]="false">
                                    <dxo-format type="fixedPoint" [precision]="2"></dxo-format>
                                </dxi-column>
                                <dxo-paging [pageSize]="12"></dxo-paging>
                                <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[8, 12, 20]">
                                </dxo-pager>
                                <dxo-summary>
                                    <dxi-total-item column="LineAmount" summaryType="sum" displayFormat="Total: {0}"
                                        [customizeText]="getFormatOfNumber">
                                    </dxi-total-item>
                                    <dxi-total-item column="VatAmount" summaryType="sum" displayFormat="Total: {0}"
                                        [customizeText]="getFormatOfNumber">
                                    </dxi-total-item>
                                    <dxi-total-item column="SGSTAmount" summaryType="sum" displayFormat="Total: {0}"
                                        [customizeText]="getFormatOfNumber">
                                    </dxi-total-item>
                                    <dxi-total-item column="CGSTAmount" summaryType="sum" displayFormat="Total: {0}"
                                        [customizeText]="getFormatOfNumber">
                                    </dxi-total-item>
                                    <dxi-total-item column="IGSTAmount" summaryType="sum" displayFormat="Total: {0}"
                                        [customizeText]="getFormatOfNumber">
                                    </dxi-total-item>
                                    <dxi-total-item column="LineDiscountAmount" summaryType="sum" displayFormat="Total: {0}"
                                        [customizeText]="getFormatOfNumber">
                                    </dxi-total-item>
                                    <dxi-total-item column="Quantity" summaryType="sum" displayFormat="Total: ">
                                    </dxi-total-item>
                                </dxo-summary>
                            </dx-data-grid>
                            <div class="row" style="padding: 10px; float: right; color:#000;">
                                <div>
                                    <span style="float: right; color:#000;"> Quantity : {{ TotalQuantity | number:
                                        '1.2-2'}}</span>
                                    <br>
                                    <br>
                                    <span style="float: right; color:#000;"> Deposit Amount : {{ TotalDeposit | number:
                                        '1.2-2'}}</span>
                                    <br>
                                    <br>
                                    <span style="float: right; color:#000;"> Discount : {{ totalInvoiceDisocunt}}</span>
                                    <br>
                                    <br>
                                    <span style="float: right; color:#000;"> Amount Ex Tax : {{ lineTotal | number:
                                        '1.2-2'}}</span>
                                    <br>
                                    <br>
                                    <span style="float: right; color:#000;"> Tax : {{ Tax | number: '1.2-2'}} </span>
                                    <br>
                                    <br>
                                    <span style="float: right; color:#000;"> Amount Inc Tax : {{ amtincvatvalue |
                                        number: '1.2-2' }} </span>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab title="Billing Info">
                        <ng-template ngbTabContent>
                            <br>
                            <div id="form-container">
                                <dx-form id="BillInfo" [formData]="Customer" (onFieldDataChanged)="formBilling_fieldDataChanged($event)"
                                    [colCount]="2" accept-charset="UTF-8" [readOnly]="false">
                                    <dxi-item itemType="group">
                                        <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate2'" [label]="{text: 'Bil-To'}"></dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="BilltoName" [label]="{text: 'Name'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" editorType="dxTextArea" dataField="BilltoAddress"
                                            [label]="{text: 'Address'}" [editorOptions]="{ height:70, elementAttr:{ 'class': 'font-for-formlable'}}">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="BilltoCountry" [label]="{text: 'Country'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                    </dxi-item>
                                    <div *dxTemplate="let data of 'nameTemplate2'">
                                        <dx-select-box #selectBox2 [dataSource]="customerSuggestions" [searchEnabled]="true"
                                            [showClearButton]="!SOFlowResult" [displayExpr]="suggestionFormateForCustomer"
                                            valueExpr="CustCode" [minSearchLength]="0" fieldTemplate="field2"
                                            [readOnly]="false" noDataText="Want to Add New ?" [value]="customerSuggestions ? Customer.BilltoCustomerNo:''"
                                            [disabled]="isLinesExist" (onValueChanged)="onBillToCustomerCodeChanged($event)"
                                            hoverStateEnabled="true" [itemTemplate]="hover">
                                            <div *dxTemplate="let itemData2 of 'field2'">
                                                <dx-text-box [text]="itemData2 ? itemData2.CustCode:Customer ? Customer.BilltoCustomerNo:''"
                                                    [readOnly]="false" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                                                <dx-button *ngIf="selectBox2.text!=''" [visible]="!selectBox2.text.includes('|')"
                                                    icon="plus" (onClick)="showNewCustomerCard($event)" [elementAttr]="{ 'class': 'cls' }"></dx-button>
                                            </div>
                                        </dx-select-box>
                                    </div>
                                    <dxi-item itemType="group">
                                        <dxi-item cssClass="font-for-formlable" dataField="InvoiceCompoundDiscount"
                                            [label]="{text: 'Discount'}" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="VATID" [label]="{text: 'Tax-ID'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' }, readOnly:true }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate4'" [label]="{text: 'Payment Method'}"></dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="PaymentTerm" [label]="{text: 'Payment Term'}"
                                            dataType="number" [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' }, mode:number, min: 1 }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="ExternalDocumentNo" [label]="{text: 'Ref. No'}"></dxi-item>
                                    </dxi-item>
                                    <div *dxTemplate="let data of 'nameTemplate4'">
                                        <dx-select-box #selectBox4 [dataSource]="paymentMethodSuggestions"
                                            [searchEnabled]="true" [showClearButton]="true" [displayExpr]="suggestionFormateForPaymentMethod"
                                            valueExpr="Code" [minSearchLength]="0" fieldTemplate="field4" noDataText="No Payment Codes!!"
                                            [value]="paymentMethodSuggestions ? Customer.PaymentMethodCode:''"
                                            [readOnly]="SOFlowResult" [disabled]="paymentMethodSuggestions!=null ? false:true"
                                            (onValueChanged)="onDropDownCodeChanged($event,'PaymentMethodCode')">
                                            <div *dxTemplate="let itemData4 of 'field4'">
                                                <dx-text-box [text]="itemData4 ? itemData4.Code:Customer ? Customer.PaymentMethodCode:''"
                                                    [readOnly]="SOFlowResult" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                                            </div>
                                        </dx-select-box>
                                    </div>
                                </dx-form>
                            </div>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab title="Shipping Info">
                        <ng-template ngbTabContent>
                            <br>
                            <div id="form-container">
                                <dx-form id="ShippingInfo" [formData]="Customer" [colCount]="2" accept-charset="UTF-8"
                                    (onFieldDataChanged)="formShipping_fieldDataChanged($event)" [readOnly]="false">
                                    <dxi-item itemType="group">
                                        <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate3'" [label]="{text: 'Ship-To'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="ShiptoName" [label]="{text: 'Name'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" editorType="dxTextArea" dataField="ShiptoAddress"
                                            [label]="{text: 'Address'}" [editorOptions]="{ height:70, elementAttr:{ 'class': 'font-for-formlable' }}">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="ShiptoCountryCode" [label]="{text: 'Country'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                    </dxi-item>
                                    <div *dxTemplate="let data of 'nameTemplate3'">
                                        <dx-select-box #selectBox3 [dataSource]="customerSuggestions" [searchEnabled]="true"
                                            [showClearButton]="!SOFlowResult" [displayExpr]="suggestionFormateForCustomer"
                                            valueExpr="CustCode" [minSearchLength]="0" fieldTemplate="field3"
                                            [readOnly]="false" noDataText="Want to Add New ?" [value]="customerSuggestions ? Customer.ShiptoCode:''"
                                            [disabled]="isLinesExist" (onValueChanged)="onShipToCustomerCodeChanged($event)"
                                            hoverStateEnabled="true" [itemTemplate]="hover">
                                            <div *dxTemplate="let itemData3 of 'field3'">
                                                <dx-text-box [text]="itemData3 ? itemData3.CustCode:Customer ? Customer.ShiptoCode:''"
                                                    [readOnly]="false" [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                                                <dx-button *ngIf="selectBox3.text!=''" [visible]="!selectBox3.text.includes('|')"
                                                    icon="plus" (onClick)="showNewCustomerCard($event)" [elementAttr]="{ 'class': 'cls' }"></dx-button>
                                            </div>
                                        </dx-select-box>
                                    </div>
                                    <dxi-item itemType="group">
                                        <dxi-item cssClass="font-for-formlable" dataField="RequestedDeliveryDate"
                                            editorType="dxDateBox" [label]="{text: 'Requested Date'}" [editorOptions]="{ width: '100%', displayFormat: 'yyyy-MM-dd',elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="ShipmentMethodCode" [label]="{text: 'Shipment Method'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" [template]="'nameTemplate7'" [label]="{text: 'Location Code'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="PackageTrackingNo" [label]="{text: 'Package Tracking'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                        <dxi-item cssClass="font-for-formlable" dataField="RemarksToPrint" [label]="{text: 'Remarks'}"
                                            [editorOptions]="{ elementAttr:{ 'class': 'font-for-formlable' } }">
                                        </dxi-item>
                                    </dxi-item>
                                    <div *dxTemplate="let data of 'nameTemplate7'">
                                        <dx-select-box #selectBox4 [dataSource]="ShipFromSuggestions" [searchEnabled]="true"
                                            [showClearButton]="!SOFlowResult" [displayExpr]="suggestionFormateForShippedby"
                                            valueExpr="LocationCode" [minSearchLength]="0" fieldTemplate="field7"
                                            [value]="Customer ? Customer.LocationCode:''" [disabled]="ShipFromSuggestions!=null ? false:true"
                                            (onValueChanged)="onDropDownCodeChanged($event,'LocationCode')"
                                            hoverStateEnabled="true" [itemTemplate]="hover4">
                                            <div *dxTemplate="let itemData5 of 'field7'">
                                                <dx-text-box [text]="itemData5 ? itemData5.LocationCode:Customer ? Customer.LocationCode:''"
                                                    [elementAttr]="{ 'class': 'font-for-formlable' }"></dx-text-box>
                                            </div>
                                        </dx-select-box>
                                    </div>
                                </dx-form>
                            </div>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab id="Stats" title="Stats">
                        <ng-template ngbTabContent>
                            <br>
                            <div class="row p-t-20">
                                <div class="col-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-sm-5">
                                                    <div class="piechart">
                                                        <canvas baseChart height="300px" [data]="pieChartData" [labels]="pieChartLabels"
                                                            [chartType]="pieChartType">
                                                        </canvas>
                                                    </div>
                                                </div>
                                                <div class="col-sm-7">
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-6">
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="d-flex p-10 no-block">
                                                                        <div class="align-self-center text-center">
                                                                            <h2 class="m-b-0">
                                                                                {{dataforstat.Ongoing_order}}</h2>
                                                                            <h6 class="text-muted m-b-0">ON-GOING
                                                                                ORDERS</h6>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="progress">
                                                                    <div class="progress-bar bg-success" role="progressbar"
                                                                        aria-valuenow="50" aria-valuemin="0"
                                                                        aria-valuemax="100" style="width:100%; height:3px;">
                                                                        <span class="sr-only">50% Complete</span></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 col-md-6">
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="d-flex p-10 no-block">
                                                                        <div class="align-self-center text-center">
                                                                            <h2 class="m-b-0">{{dataforstat.invoice}}
                                                                            </h2>
                                                                            <h6 class="text-muted m-b-0">INVOICES</h6>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="progress">
                                                                    <div class="progress-bar bg-info" role="progressbar"
                                                                        aria-valuenow="50" aria-valuemin="0"
                                                                        aria-valuemax="100" style="width:100%; height:3px;">
                                                                        <span class="sr-only">50% Complete</span></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-4 col-md-6">
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="d-flex p-10 no-block">
                                                                        <div class="align-self-center text-center">
                                                                            <h2 class="m-b-0">
                                                                                {{dataforstat.CREDIT_NOTE}}</h2>
                                                                            <h6 class="text-muted m-b-0">CREDIT NOTES
                                                                            </h6>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="progress">
                                                                    <div class="progress-bar bg-success" role="progressbar"
                                                                        aria-valuenow="50" aria-valuemin="0"
                                                                        aria-valuemax="100" style="width:100%; height:3px;">
                                                                        <span class="sr-only">50% Complete</span></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6">
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="d-flex p-10 no-block">
                                                                        <div class="align-self-center text-center">
                                                                            <h2 class="m-b-0">
                                                                                {{dataforstat.OUTSTANDING}}</h2>
                                                                            <h6 class="text-muted m-b-0">OUTSTANDING
                                                                            </h6>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="progress">
                                                                    <div class="progress-bar bg-primary" role="progressbar"
                                                                        aria-valuenow="100" aria-valuemin="0"
                                                                        aria-valuemax="100" style="width:100%; height:3px;">
                                                                        <span class="sr-only">50% Complete</span></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6">
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="d-flex p-10 no-block">
                                                                        <div class="align-self-center text-center">
                                                                            <h2 class="m-b-0">
                                                                                {{dataforstat.CreditLimit}}</h2>
                                                                            <h6 class="text-muted m-b-0">CREDIT LIMIT
                                                                            </h6>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="progress">
                                                                    <div class="progress-bar bg-danger" role="progressbar"
                                                                        aria-valuenow="50" aria-valuemin="0"
                                                                        aria-valuemax="100" style="width:100%; height:3px;">
                                                                        <span class="sr-only">50% Complete</span></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div>
        </div>
    </div>
</div>

<dx-popup class="popup" [width]="500" [height]="450" [showTitle]="true" title="Create Customer" [dragEnabled]="true"
    [closeOnOutsideClick]="true" [(visible)]="popupVisible">
    <div *dxTemplate="let data of 'content'">
        <div class="col-12">
            <div class="row">
                <div id="form-container">
                    <dx-form id="CustomerDetails" [colCount]="2" [(formData)]="newCustomerDetail" accept-charset="UTF-8">
                        <dxi-item class="font-for-formlable" dataField="CustomerID" [colSpan]="2">
                            <dxi-validation-rule type="required" message="Customer Code is required">
                            </dxi-validation-rule>
                        </dxi-item>
                        <dxi-item class="font-for-formlable" dataField="Name" [colSpan]="2">
                        </dxi-item>
                        <dxi-item class="font-for-formlable" dataField="Address" [colSpan]="2">
                        </dxi-item>
                        <dxi-item class="font-for-formlable" dataField="Address2" [colSpan]="2">
                        </dxi-item>
                        <dxi-item class="font-for-formlable" dataField="City" [label]="{text: 'City'}">
                        </dxi-item>
                        <dxi-item class="font-for-formlable" dataField="ZipCode" editorType="dxNumberBox" [label]="{text: 'Zip'}"></dxi-item>
                        <dxi-item class="font-for-formlable" dataField="Phone" [label]="{text: 'Phone'}"
                            [editorOptions]="{ maskRules: phoneRules,
                                                                                                    useMaskedValue: true,
                                                                                                    maskInvalidMessage: 'The phone must have a correct  phone format' }">
                            <dxi-validation-rule type="pattern" [pattern]="phonePattern" message="The phone must have a correct  phone format">
                            </dxi-validation-rule>
                        </dxi-item>
                        <dxi-item class="font-for-formlable" dataField="Email" [label]="{text: 'Email'}">
                            <dxi-validation-rule type="email" message="Email is invalid">
                            </dxi-validation-rule>
                        </dxi-item>
                    </dx-form>
                </div>
            </div>
            <br>
            <div class="row">
                <dx-button text="Add" type="default" (onClick)="SaveNewCustomer()">
                </dx-button>
            </div>
        </div>
    </div>
</dx-popup>